# Marketing Fields Analysis

Это «конструктор» по настройке маркетинговых полей в Bitrix24. Мы собрали все выгрузки,
чек-листы и планы из разных источников, чтобы на их основе выстроить понятную модель
каналов, UTM-меток и автоматизаций. Ниже — простое объяснение, что лежит в репозитории
и как этим пользоваться.

## 1. Что лежит в папках

| Файл / папка | Что внутри | Зачем нужно |
| --- | --- | --- |
| `google_sheets_marketing_data.csv` | Плоская таблица из Google Sheets с исходными значениями каналов, UTM и заметками. | Отсюда берём реальные названия источников и проверяем, всё ли покрыто полями CRM. |
| `bitrix_exports/` | JSON-выгрузки из Bitrix24 (поля по сделкам, лидам, контактам). | Помогают понять текущее состояние портала и сверить его с чек-листами. |
| `bitrix24_fields_structure.json` | Полный перечень желаемых пользовательских полей (тип, сущность, статус). | Используем как контрольный список: что уже есть, что нужно создать или убрать. |
| `complete_field_structure.json`, `complete_4level_scenarios.csv`, `final_understanding_scenarios.csv` | Расширенные сценарии и карты полей в разных разрезах. | Даёт контекст, почему поля вообще придуманы и где используются. |
| `fields_creation_checklist.csv`, `bitrix24_implementation_checklist.json` | Чек-листы с прогрессом создания и внедрения. | Помогают не забыть про технические шаги (создание, проверка, обучение менеджеров). |
| `implementation_plan.json`, `integration_schema.json` | Пошаговая стратегия внедрения и схема потоков данных между сервисами. | Отвечают на вопрос «что делаем после аудита, какие интеграции настраиваем, кто отвечает». |
| `utm_autofill_script.js`, `utm_medium_rules.json`, `utm_medium_priority_matrix.csv` | Скрипт автозаполнения UTM и правила нормализации медиумов. | Нужны, чтобы автоматически подставлять метки и приводить значения к единому виду. |
| `robot_rules_simple.csv`, `bitrix_automation_rules.json` | Черновики роботов и бизнес-процессов. | Подсказка, какие автоматизации стоит включить, когда поля будут готовы. |
| `docs/audit_report.md` | Короткий отчёт по текущему состоянию полей и интеграций. | Говорит, что уже сделано, что нужно исправить в первую очередь. |
| `docs/field_mapping.md` | Простая таблица сопоставления полей и источников данных. | Показывает, какие поля за что отвечают после упрощения. |
| `docs/concepts.csv` | Словарь терминов (канал, источник, кампания и т.д.). | Помогает говорить на одном языке, когда обсуждаем маркетинг. |

## 2. Как разобраться в три шага

1. **Прочитать `docs/audit_report.md`.** Там перечислены пробелы: каких полей нет, какие значения надо дописать, что проверить в интеграциях.
2. **Открыть `docs/field_mapping.md`.** Эта таблица показывает минимальный набор полей, который мы используем сейчас, и откуда приходят данные.
3. **Свериться с чек-листами.** Файлы `fields_creation_checklist.csv` и `bitrix24_implementation_checklist.json` подскажут, какие шаги ещё не закрыты.

## 3. Три гипотезы настройки маркетинга в Bitrix24

> Ниже — три сценария от самого простого к продвинутому. Каждый строится на одних и тех же данных, но требует разного уровня автоматизации.

### Гипотеза A. «Минимализм» — только стандартные поля

- Используем встроенные `SOURCE_ID` и все стандартные `UTM_*` поля.
- Скрипт `utm_autofill_script.js` заполняет метки на сайтах, UIS передаёт свои значения напрямую.
- Роботы работают лишь на распределение ответственных по `UTM_SOURCE` или `SOURCE_ID`.
- Подходит, если важно быстро запустить базовую отчётность и не усложнять CRM.

### Гипотеза B. «Умное уточнение» — стандартные поля + один список

- Основа такая же, как в гипотезе A.
- Добавляем (и поддерживаем в актуальном виде) только `UF_CRM_CONTACT_METHOD`, чтобы знать, каким каналом клиент реально обратился (звонок, WhatsApp, Instagram и т.д.).
- Автоматизации из `robot_rules_simple.csv` используют это поле, чтобы назначать ответственных и формировать понятные описания в `UF_SOURCE_DESCRIPTION` (опционально).
- Это золотая середина: аналитика понятна, а CRM остаётся лёгкой для менеджеров.

### Гипотеза C. «Расширенный контроль» — полный список из чек-листов

- К базовой модели добавляем все поля из `bitrix24_fields_structure.json`, включая домены, тип клиента, ответственного за канал.
- Используем правила из `utm_medium_priority_matrix.csv` и `utm_medium_rules.json`, чтобы нормализовать медиум, и роботов из `bitrix_automation_rules.json` для автоматических задач.
- Подходит, если нужно много кастомных отчётов и сложная сегментация.

## 4. Что делать дальше

1. **Завершить аудит.** По списку в `docs/audit_report.md` убедиться, что обязательные поля созданы и значения совпадают с чек-листами.
2. **Выбрать гипотезу.** Определиться, какой уровень детализации нужен компании сейчас. Для старта чаще всего хватает гипотезы B.
3. **Проверить интеграции.** Настроить веб-формы, UIS и мессенджеры, чтобы они писали данные в выбранные поля (см. `integration_schema.json`).
4. **Запустить роботов.** После тестов включить автоматизации из `robot_rules_simple.csv` или расширенные сценарии.

Если понадобятся дополнительные материалы или обновления, добавляйте их в папку `docs/` и расширяйте соответствующие разделы README, чтобы структура оставалась прозрачной даже для новичков.

